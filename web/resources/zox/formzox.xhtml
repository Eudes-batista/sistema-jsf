<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <!-- INTERFACE -->
    <cc:interface >
        <cc:attribute name="titulo" shortDescription="Titulo do formulario" required="true" />
        <cc:attribute name="bean" shortDescription="Informe o managed bean" required="true" />
        <cc:attribute name="idForm" shortDescription="id do formulario" required="true" />
        <cc:attribute name="idBtSalvar" shortDescription="id do botão de salvar" required="true" />
        <cc:attribute name="componenteUpdate"  shortDescription="passa os ids para o botão de salvar atualizar" required="true" />
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation >
        <p:dialog widgetVar="#{cc.attrs.idForm}" maximizable="true" minimizable="true" responsive="true" showEffect="fade"
                  styleClass="tamanhoForm" hideEffect="fade" fitViewport="true" position="center" 
                  resizable="false" showHeader="true" closable="true"
                  >

            <p:ajax event="close" update=":formGrid" listener="#{unidadeBean.inicializar()}" />
            <!--Título-->
            <f:facet name="header"><span class="titulo1">#{cc.attrs.titulo}</span></f:facet>
            <!--**********-->

            <!--Corpo do Formulario-->
            <div class="ui-fluid">
                <h:form >
                    
                    <cc:insertChildren  />
                    <div class="container-fluid">
                        <div class="row" style="text-align: center; border-top: 1px solid #ccc; margin-top: 10px;">
                            <div class="col-md-10">
                            </div>
                            <div class="col-md-1">
                                <p:commandLink id="#{cc.attrs.idBtSalvar}"  class="btn btn-block glyphicon glyphicon-ok btFooterSalvar"
                                               actionListener="#{cc.attrs.bean.salvar()}" process="@form" update="#{cc.attrs.componenteUpdate}"/>
                            </div>
                            <div class="col-md-1">
                                <!--                                <p:commandLink class="btn btn-block glyphicon glyphicon-backward btFooterVoltar" 
                                                                               id="btvoltar" oncomplete="PF('#{cc.attrs.idForm}').hide();"/>-->
                            </div>
                        </div>
                    </div>
                    <p:tooltip for="#{cc.attrs.idBtSalvar}" value="Salvar" position="bottom"/>
                </h:form>
            </div>
        </p:dialog>
        <!--**********-->
    </cc:implementation>
</html>